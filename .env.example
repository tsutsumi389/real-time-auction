# ============================================
# Docker Compose Environment Variables
# ============================================
# Copy this file to .env and modify as needed
# cp .env.example .env

# ============================================
# PostgreSQL Configuration
# ============================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=auction_db
POSTGRES_USER=auction_user
POSTGRES_PASSWORD=auction_pass_dev_only

# ============================================
# Redis Configuration
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ============================================
# Backend API Server Configuration
# ============================================
API_PORT=8080
API_ENV=development
API_LOG_LEVEL=debug

# ============================================
# Backend WebSocket Server Configuration
# ============================================
WS_PORT=8081
WS_ENV=development
WS_LOG_LEVEL=debug

# ============================================
# JWT Configuration
# ============================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_ACCESS_EXPIRE=15m
JWT_REFRESH_EXPIRE=168h

# ============================================
# CORS Configuration
# ============================================
# ローカルネットワーク内での公開のため、全てのオリジンを許可（開発環境）
# 本番環境では特定のドメインのみに制限してください
CORS_ORIGINS=*

# ============================================
# Frontend Configuration
# ============================================
# 相対パスを設定、またはコメントアウトで動的に生成します
# ローカルネットワーク内での公開に対応
VITE_API_BASE_URL=/api

# ============================================
# Nginx Configuration
# ============================================
NGINX_PORT=80
NGINX_SSL_PORT=443

# ============================================
# Storage Configuration
# ============================================
STORAGE_TYPE=minio

# MinIO Settings (Local)
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=auction-media
MINIO_USE_SSL=false
# Nginx経由でアクセスするため、相対パスを使用（ローカルネットワーク対応）
MINIO_PUBLIC_URL=/media

# AWS S3 Settings (Production)
S3_REGION=ap-northeast-1
S3_BUCKET=auction-media-prod
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=

# Upload Limits
MAX_IMAGE_SIZE=5242880       # 5MB
MAX_VIDEO_SIZE=104857600     # 100MB
IMAGE_MAX_WIDTH=1920
IMAGE_MAX_HEIGHT=1080
THUMBNAIL_SIZE=300

# Allowed MIME Types
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/webp,image/gif
ALLOWED_VIDEO_TYPES=video/mp4,video/quicktime,video/x-msvideo
